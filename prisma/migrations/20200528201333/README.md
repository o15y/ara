# Migration `20200528201333`

This migration has been generated by Anand Chowdhary at 5/28/2020, 8:13:33 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE `ara_v2`.`organizations` ADD COLUMN `clearbitApiKey` varchar(191)   ,
ADD COLUMN `customCalendarUrl` varchar(191)   ,
ADD COLUMN `emailConfirmation` boolean NOT NULL DEFAULT true ,
ADD COLUMN `emailLanguage` varchar(191) NOT NULL DEFAULT 'detect' ,
ADD COLUMN `googleAccessToken` varchar(191)   ,
ADD COLUMN `googleRefreshToken` varchar(191)   ,
ADD COLUMN `readReceipts` boolean NOT NULL DEFAULT false ,
ADD COLUMN `showPoweredByAra` boolean NOT NULL DEFAULT true ,
ADD COLUMN `unsubscribeLink` boolean NOT NULL DEFAULT false ,
ALTER COLUMN `assistantSignature` SET DEFAULT 'Thank you';

ALTER TABLE `ara_v2`.`users` DROP COLUMN `clearbitApiKey`,
DROP COLUMN `googleAccessToken`,
DROP COLUMN `googleRefreshToken`;
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200527201259..20200528201333
--- datamodel.dml
+++ datamodel.dml
@@ -3,9 +3,9 @@
 }
 datasource mysql {
   provider = "mysql"
-  url = "***"
+  url      = env("DATABASE_URL")
 }
 enum Gender {
   MALE
@@ -80,11 +80,8 @@
   twoFactorEnabled     Boolean              @default(false)
   twoFactorSecret      String?
   updatedAt            DateTime             @updatedAt
   username             String               @unique
-  googleAccessToken    String?
-  googleRefreshToken   String?
-  clearbitApiKey       String?
   emails               emails[]             @relation("userEmails")
   incoming_emails      incoming_emails[]    @relation("userIncomingEmails")
   meetings             meetings[]           @relation("userMeetings")
   access_tokens        access_tokens[]      @relation("userAccessTokens")
@@ -114,9 +111,9 @@
   meetings            meetings[]        @relation("organizationMeetings")
   locations           locations[]       @relation("organizationLocations")
   webhooks            webhooks[]        @relation("organizationWebhooks")
   assistantName       String            @default("Ara Isaacson (AI)")
-  assistantSignature  String            @default("Best,\n\n{{assistant_name}}")
+  assistantSignature  String            @default("Thank you")
   schedulingDays      String            @default("1,2,3,4,5")
   schedulingTimeStart String            @default("09:00:00")
   schedulingTimeEnd   String            @default("05:00:00")
   schedulingPadding   Int               @default(15)
@@ -130,8 +127,17 @@
   customEmailPort     Int?
   customEmailSecure   Boolean           @default(false)
   customEmailUsername String?
   customEmailPassword String?
+  googleAccessToken   String?
+  googleRefreshToken  String?
+  clearbitApiKey      String?
+  customCalendarUrl   String?
+  emailLanguage       String            @default("detect")
+  unsubscribeLink     Boolean           @default(false)
+  readReceipts        Boolean           @default(false)
+  emailConfirmation   Boolean           @default(true)
+  showPoweredByAra    Boolean           @default(true)
 }
 model locations {
   id             Int           @default(autoincrement()) @id
```


